function fMostrarOcultarRespostas(t){var a=$("#BtnToggleRespostas"+t),e=$("#DivResposta"+t),i=a.data("qtde");e.is(":visible")?i>1?a.html("Ver todas as "+i+' respostas <i style="font-size: 12px;" class="fa fa-chevron-down"></i>'):a.html('Ver resposta <i style="font-size: 12px;" class="fa fa-chevron-down"></i>'):i>1?a.html('Ocultar respostas <i style="font-size: 12px;" class="fa fa-chevron-up"></i>'):a.html('Ocultar resposta <i style="font-size: 12px;" class="fa fa-chevron-up"></i>'),e.slideToggle("slow")}function formatarTeste(t){return t.replace(/<br>/g,"\n").replace(/(<br\/>)+/g,"\n")}function formatarTeste0(t){}function formatarTeste1(t,a){return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(a||void 0===a?"<br />":"<br>")+"$2")}function formatarTeste2(t,a){return null==t?"":(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(a||void 0===a?"<br />":"<br>")+"$2")}function formatarTeste3(t,a){return(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(a||void 0===a?"<br />":"<br>")+"$2")}function fMontarDivComentario(t,a){try{var e="";e+="\x3c!-- DivComentario --\x3e \n",e+='<div class="border border-dark rounded mb-2" > \n',e+="\t\x3c!-- row --\x3e",e+='\t<div class="row clearfix"  style="margin: 0px; padding: 0px;"> \n';var i=t+(""!=a.Foto?a.Foto:"static/pages/img/pessoa-icon.png");if(e+="\t\t\x3c!-- col-1 --\x3e \n",e+='\t\t<div class="col-sm-1 col-md-1 col-lg-1 col-xl-1 text-center" style="margin: 0px; padding: 0px; padding-top: 10px;"> \n',e+='\t\t\t<img id="imgFotoPerfilComent'+a.Id+'" src="'+i+'" alt="icone" width="60" height="60" class="img rounded-circle" alt="Foto Perfil" /> \n',e+="\t\t</div> \n",e+="\t\t\x3c!-- col-1 --\x3e \n",e+="\t\t\x3c!-- col-11 --\x3e \n",e+='\t\t<div class="col-sm-11 col-md-11 col-lg-11 col-xl-11" style="margin: 0px; padding: 0px;"> \n',e+="\t\t\t\x3c!-- DivDadosUserComentario --\x3e \n",e+='\t\t\t<div class="header" style="margin: 0px; padding: 0px; padding-top: 10px; padding-bottom: 10px;"> \n',e+='\t\t\t\t<span class="font-weight-bold text-su ccess" style="font-size: 14px;">'+a.Nome+'</span>&nbsp; &nbsp;<small class="text-info" style="font-size: 11px;">( '+a.DtHr+" )</small> \n",e+='\t\t\t\t<ul class="header-dropdown"> \n',e+='\t\t\t\t\t<li class="dropdown"> \n',e+='\t\t\t\t\t\t<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <i class="zmdi zmdi-more"></i> </a> \n',e+='\t\t\t\t\t\t<ul class="dropdown-menu dropdown-menu-right"> \n',"S"==a.ExibeBtnDenu&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fMostrarModalDenunciar('+a.Id+');"                      > <i class="fa fa-warning"       aria-hidden="true"></i> &nbsp; Denunciar </a></li> \n'),"S"==a.ExibeBtnEdit&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fMostrarEditarComentario( '+a.Id+');"                   > <i class="fa fa-pencil fa-lg"  aria-hidden="true"></i> &nbsp; Editar    </a></li> \n'),"S"==a.ExibeBtnExcl&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fExcluirComentario( \''+t+"',"+a.Id+',\'A\');"> <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i> &nbsp; Excluir   </a></li> \n'),e+="\t\t\t\t\t\t</ul> \n",e+="\t\t\t\t\t</li> \n",e+="\t\t\t\t</ul> \n",e+="\t\t\t</div> \n",e+="\t\t\t\x3c!-- DivDadosUserComentario --\x3e \n",e+="\t\t\t\x3c!-- DivBody --\x3e",e+='\t\t\t<div class="body" style="margin: 0px; padding: 0px;"> \n',e+="\t\t\t\t\x3c!-- DivTextoComentario --\x3e",e+='\t\t\t \t<div class="row clearfix" style="margin: 0px; padding: 0px;">',e+='\t\t\t\t\t<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="margin: 0px; padding: 0px; line-height: 1.3em; font-size: 10pt"> ',e+='\t\t\t\t\t\t<span id="DivTextoComentario'+a.Id+'" class="text-muted" style="font-size: 13px;">'+a.Texto+"</span>",e+='\t\t\t\t\t\t<span id="DivEditartTextoComentario'+a.Id+'" class="text-muted" style="display: none; font-size: 14px;">',e+='\t\t\t\t\t\t\t<textarea data-autoresize style="font-size:14px; resize:none; overflow:hidden; box-sizing:border-box;" class="form-control form-control-sm"  id="TxtTextoComentario'+a.Id+'" placeholder="Adicione uma Comentário...">'+formatarTeste(a.Texto)+"</textarea>",e+='\t\t\t\t\t\t\t<div class="text-right">',e+='\t\t\t\t\t\t\t\t<a style="font-size:12px; width: 120px; "  class="btn btn-sm btn-primary btn-round waves-effect" href="javascript:void(0);" role="button" aria-pressed="true" onclick="fSalvarDadosComentario(\''+t+"',"+a.Id+');"> <i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; SALVAR </a>',e+="\t\t\t\t\t\t\t\t&nbsp;",e+='\t\t\t\t\t\t\t\t<a style="font-size:12px; width: 120px; "  class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" role="button" aria-pressed="true" onclick="fEsconderEditarComentario('+a.Id+');"> <i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; CANCELAR </a>',e+="\t\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t\t<br/>",e+="\t\t\t\t\t\t</span>",e+="\t\t\t\t\t</div>",e+="\t\t\t\t</div>",e+="\t\t\t\t\x3c!-- DivTextoComentario --\x3e",e+="\t\t\t\x3c!-- DivBotaoComentario --\x3e",e+='\t\t\t<div class="row clearfix" style="margin: 0px; padding: 0px; padding-top: 10px; ">',e+='\t\t\t\t<div class="col-sm-8 col-md-8 col-lg-8 col-xl-8 text-left" style="margin: 0px; padding: 0px;">',"S"==a.MarcarGostei&&(e+='\t\t\t\t\t<a class="btn btn-sm btn-primary btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 90px; " role="button" aria-pressed="true" data-selc="'+a.MarcarGostei+'"    id="BtnGostei'+a.Id+'"    onclick="fSalvarDadosReacao(\''+t+"',"+a.Id+",'A');\"> <i id=\"iGostei"+a.Id+'"    style="font-size: 15px;" class="fa fa-thumbs-up">   </i> &nbsp; <span style="font-size: 12px;" class="text-primary" id="QtdeGostei'+a.Id+'"   >'+a.QtdeGostei+"   </span> </a>"),"N"==a.MarcarGostei&&(e+='\t\t\t\t\t<a class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 90px; " role="button" aria-pressed="true" data-selc="'+a.MarcarGostei+'"    id="BtnGostei'+a.Id+'"    onclick="fSalvarDadosReacao(\''+t+"',"+a.Id+",'A');\"> <i id=\"iGostei"+a.Id+'"    style="font-size: 15px;" class="fa fa-thumbs-up">   </i> &nbsp; <span style="font-size: 12px;" class="text-muted"   id="QtdeGostei'+a.Id+'"   >'+a.QtdeGostei+"   </span> </a>"),"S"==a.MarcarNaoGostei&&(e+='\t\t\t\t\t<a class="btn btn-sm btn-primary btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 90px; " role="button" aria-pressed="true" data-selc="'+a.MarcarNaoGostei+'" id="BtnNaoGostei'+a.Id+'" onclick="fSalvarDadosReacao(\''+t+"',"+a.Id+",'B');\"> <i id=\"iNaoGostei"+a.Id+'" style="font-size: 15px;" class="fa fa-thumbs-down"> </i> &nbsp; <span style="font-size: 12px;" class="text-primary" id="QtdeNaoGostei'+a.Id+'">'+a.QtdeNaoGostei+"</span> </a>"),"N"==a.MarcarNaoGostei&&(e+='\t\t\t\t\t<a class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 90px; " role="button" aria-pressed="true" data-selc="'+a.MarcarNaoGostei+'" id="BtnNaoGostei'+a.Id+'" onclick="fSalvarDadosReacao(\''+t+"',"+a.Id+",'B');\"> <i id=\"iNaoGostei"+a.Id+'" style="font-size: 15px;" class="fa fa-thumbs-down"> </i> &nbsp; <span style="font-size: 12px;" class="text-muted"   id="QtdeNaoGostei'+a.Id+'">'+a.QtdeNaoGostei+"</span> </a>"),e+='\t\t\t\t\t<a class="btn btn-sm btn-primary btn-round waves-effect font-weight-bold" href="javascript:void(0);" style="font-size: 10px; width: 120px;" role="button" aria-pressed="true" id="BtnToggleResponder'+a.Id+'" onclick="fMostrarNovaResposta('+a.Id+');"> <i style="font-size: 15px;" class="fa fa-commenting"> </i>  &nbsp; RESPONDER  </a>',"S"==a.ExibirDadosAdmin&&(e+='\t\t\t\t\t<a class="btn btn-sm btn-warning btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 120px;" title="Visualizar" role="button" aria-pressed="true" id="BtnVisualizarComentario'+a.Id+'" onclick="fVisualizarDadosAdmin(\''+t+"',"+a.Id+');"> <i style="font-size: 15px;" class="fa fa-eye"> </i> &nbsp;VISUALIZAR</a>'),e+="\t\t\t\t</div>",e+='\t\t\t\t<div class="col-sm-4 col-md-4 col-lg-4col-xl-4 text-right">',e+="\t\t\t\t</div>",e+="\t\t\t</div>",e+="\t\t\t\x3c!-- DivBotaoComentario --\x3e",e+="\t\t\t\x3c!-- DivResponder --\x3e",e+='\t\t\t<div id="DivResponder'+a.Id+'" style="display: none; ">',e+="\t\t\t\t<br/>",e+='\t\t\t\t<div class="row clearfix">',e+='\t\t\t\t\t<div class="col-10">',e+='\t\t\t\t\t\t<textarea data-autoresize style="font-size:14px; wi dth: 100%; resize:none; overflow:hidden; box-sizing:border-box;" max length="2000" rows="2" class="form-control form-control-sm" id="TxtTextoResposta'+a.Id+'" placeholder="Adicione uma resposta..."></textarea>',e+="\t\t\t\t\t</div>",e+='\t\t\t\t\t<div class="col-2 text-right">',e+='\t\t\t\t\t\t<a style="font-size:14px; width: 150px;" class="btn btn-sm btn-primary btn-round waves-effect" href="javascript:void(0);" role="button" aria-pressed="true" onclick="fSalvarDadosResposta(\''+t+"',"+a.Id+', \'\');"> <i id="iSalvar"class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; ENVIAR </a>',e+="\t\t\t\t\t</div>",e+="\t\t\t\t</div>",e+="\t\t\t</div>",e+="\t\t\t\x3c!-- DivResponder --\x3e",a.ListaResp&&a.ListaResp.length>0){e+="\t\t\t\x3c!-- DivResposta --\x3e",e+='\t\t\t<div id="DivResposta'+a.Id+'" style="di splay: none; margin: 0px; padding: 0px;">';var r=a.ListaResp.length;for(y=0;y<r;y++){e+='\t\t\t\t<hr class="border-muted" style="margin-bottom: 10px;!important; margin-top: 10px;!important; margin-right: 30px;"/>',e+="\t\t\t\t\x3c!-- DivComentResposta --\x3e",e+='\t\t\t\t<div class="row clearfix" style="margin: 0px; padding: 0px; margin-bottom: 5px;!important; ">';var s=t+(""!=a.ListaResp[y].Foto?a.ListaResp[y].Foto:"static/pages/img/pessoa-icon.png");e+="\t\t\t\t\t\x3c!-- col-1 --\x3e",e+='\t\t\t\t\t<div class="col-1 text-center" style="margin: 0px; padding: 0px; padding-top: 10px;" >',e+='\t\t\t\t\t\t<img id="imgFotoPerfilComent'+a.ListaResp[y].Id+'" src="'+s+'" alt="icone" width="60" height="60" class="img rounded-circle" alt="Foto Perfil" /> \n',e+="\t\t\t\t\t</div>",e+="\t\t\t\t\t\x3c!-- col-1 --\x3e",e+="\t\t\t\t\t\x3c!-- col-11 --\x3e",e+='\t\t\t\t\t<div class="col-11">',e+="\t\t\t\x3c!-- DivDadosUserComentarioResp --\x3e \n",e+='\t\t\t<div class="header" style="margin: 0px; padding: 0px; padding-top: 10px; padding-bottom: 10px;"> \n',e+='\t\t\t\t<span class="font-weight-bold text-su ccess" style="font-size: 14px;">'+a.ListaResp[y].Nome+'</span>&nbsp;&nbsp;<small class="text-info" style="font-size: 11px;">( '+a.ListaResp[y].DtHr+" )</small> \n",e+='\t\t\t\t<ul class="header-dropdown"> \n',e+='\t\t\t\t\t<li class="dropdown"> \n',e+='\t\t\t\t\t\t<a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> <i class="zmdi zmdi-more"></i> </a> \n',e+='\t\t\t\t\t\t<ul class="dropdown-menu dropdown-menu-right"> \n',"S"==a.ListaResp[y].ExibeBtnDenu&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fMostrarModalDenunciar('+a.ListaResp[y].Id+');"                     > <i class="fa fa-warning"       aria-hidden="true"></i> &nbsp; Denunciar </a></li> \n'),"S"==a.ListaResp[y].ExibeBtnEdit&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fMostrarEditarResposta( '+a.ListaResp[y].Id+');"                    > <i class="fa fa-pencil fa-lg"  aria-hidden="true"></i> &nbsp; Editar    </a></li> \n'),"S"==a.ListaResp[y].ExibeBtnExcl&&(e+='\t\t\t\t\t\t\t<li><a href="javascript:void(0);" onclick="fExcluirComentario(\''+t+"',"+a.ListaResp[y].Id+',\'B\');"> <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i> &nbsp; Excluir   </a></li> \n'),e+="\t\t\t\t\t\t</ul> \n",e+="\t\t\t\t\t</li> \n",e+="\t\t\t\t</ul> \n",e+="\t\t\t</div> \n",e+="\t\t\t\x3c!-- DivDadosUserComentarioResp --\x3e \n",e+="\t\t\t\x3c!-- DivBody --\x3e",e+='\t\t\t<div class="body" style="margin: 0px; padding: 0px;"> \n',e+="\t\t\t\t\t\t\x3c!-- DivTextoComentarioResp --\x3e",e+='\t\t\t\t\t\t<div class="row clearfix" style="margin: 0px; padding: 0px;">',e+='\t\t\t\t\t\t\t<div class="col-sm-12 col-md-12 col-lg-12 col-xl-12" style="margin: 0px; padding: 0px; line-height: 1.3em; font-size: 10pt"> ',e+='\t\t\t\t\t\t\t\t<span id="DivTextoComentarioResp'+a.ListaResp[y].Id+'" class="text-muted" style="font-size: 14px;">'+a.ListaResp[y].Texto+"</span>",e+='\t\t\t\t\t\t\t\t<span id="DivEditarTextoComentarioResp'+a.ListaResp[y].Id+'" class="text-muted" style="display: none; font-size: 14px;">',e+='\t\t\t\t\t\t\t\t\t<textarea data-autoresize style="font-size:14px; resize:none; overflow:hidden; box-sizing:border-box;" class="form-control form-control-sm" id="TxtTextoComentarioResp'+a.ListaResp[y].Id+'" placeholder="Adicione uma Comentário...">'+formatarTeste(a.ListaResp[y].Texto)+"</textarea>",e+="\t\t\t\t\t\t\t\t\t<br/>",e+='\t\t\t\t\t\t\t\t\t<div class="text-right">',e+='\t\t\t\t\t\t\t\t\t\t<a style="font-size:12px; width: 120px;" class="btn btn-sm btn-primary btn-round waves-effect" href="javascript:void(0);" role="button" aria-pressed="true" onclick="fSalvarDadosResposta(\''+t+"',"+a.Id+","+a.ListaResp[y].Id+');"> <i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; SALVAR </a>',e+="\t\t\t\t\t\t\t\t\t\t&nbsp;",e+='\t\t\t\t\t\t\t\t\t\t<a style="font-size:12px; width: 120px;" class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" role="button" aria-pressed="true" onclick="fEsconderEditarResposta('+a.ListaResp[y].Id+');"> <i class="fa fa-paper-plane" aria-hidden="true"></i> &nbsp; CANCELAR </a>',e+="\t\t\t\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t\t\t\t<br/>",e+="\t\t\t\t\t\t\t\t</span>",e+="\t\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t\x3c!-- DivTextoComentarioResp --\x3e",e+="\t\t\t\t\t\t\x3c!-- DivBotaoComentarioResp --\x3e",e+='\t\t\t\t\t\t<div class="row clearfix" style="margin: 0px; padding: 0px;  padding-top: 10px;">',e+='\t\t\t\t\t\t\t<div class="col-12 text-left" style="margin: 0px; padding: 0px;">',"S"==a.ListaResp[y].MarcarGostei&&(e+='\t\t\t\t\t\t\t\t<a class="btn btn-sm btn-primary btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 80px; " role="button" aria-pressed="true" data-selc="'+a.ListaResp[y].MarcarGostei+'"    id="BtnGostei'+a.ListaResp[y].Id+'"    onclick="fSalvarDadosReacao(\''+t+"',"+a.ListaResp[y].Id+",'A');\"   > <i id=\"iGostei"+a.ListaResp[y].Id+'"    style="font-size: 15px;" class="fa fa-thumbs-up">   </i> &nbsp; <span style="font-size: 12px;" class="text-primary" id="QtdeGostei'+a.ListaResp[y].Id+'"   >'+a.ListaResp[y].QtdeGostei+"   </span> </a>"),"N"==a.ListaResp[y].MarcarGostei&&(e+='\t\t\t\t\t\t\t\t<a class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 80px; " role="button" aria-pressed="true" data-selc="'+a.ListaResp[y].MarcarGostei+'"    id="BtnGostei'+a.ListaResp[y].Id+'"    onclick="fSalvarDadosReacao(\''+t+"',"+a.ListaResp[y].Id+",'A');\"   > <i id=\"iGostei"+a.ListaResp[y].Id+'"    style="font-size: 15px;" class="fa fa-thumbs-up">   </i> &nbsp; <span style="font-size: 12px;" class="text-muted"   id="QtdeGostei'+a.ListaResp[y].Id+'"   >'+a.ListaResp[y].QtdeGostei+"   </span> </a>"),"S"==a.ListaResp[y].MarcarNaoGostei&&(e+='\t\t\t\t\t\t\t\t<a class="btn btn-sm btn-primary btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 80px; " role="button" aria-pressed="true" data-selc="'+a.ListaResp[y].MarcarNaoGostei+'" id="BtnNaoGostei'+a.ListaResp[y].Id+'" onclick="fSalvarDadosReacao(\''+t+"',"+a.ListaResp[y].Id+",'B');\"> <i id=\"iNaoGostei"+a.ListaResp[y].Id+'" style="font-size: 15px;" class="fa fa-thumbs-down"> </i> &nbsp; <span style="font-size: 12px;" class="text-primary" id="QtdeNaoGostei'+a.ListaResp[y].Id+'">'+a.ListaResp[y].QtdeNaoGostei+"</span> </a>"),"N"==a.ListaResp[y].MarcarNaoGostei&&(e+='\t\t\t\t\t\t\t\t<a class="btn btn-sm btn-light btn-simple btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 80px; " role="button" aria-pressed="true" data-selc="'+a.ListaResp[y].MarcarNaoGostei+'" id="BtnNaoGostei'+a.ListaResp[y].Id+'" onclick="fSalvarDadosReacao(\''+t+"',"+a.ListaResp[y].Id+",'B');\"> <i id=\"iNaoGostei"+a.ListaResp[y].Id+'" style="font-size: 15px;" class="fa fa-thumbs-down"> </i> &nbsp; <span style="font-size: 12px;" class="text-muted"   id="QtdeNaoGostei'+a.ListaResp[y].Id+'">'+a.ListaResp[y].QtdeNaoGostei+"</span> </a>"),"S"==a.ListaResp[y].ExibirDadosAdmin&&(e+='\t\t\t\t\t            <a class="btn btn-sm btn-warning btn-round waves-effect" href="javascript:void(0);" style="font-size: 10px; width: 120px;" title="Visualizar" role="button" aria-pressed="true" id="BtnVisualizarComentarioResp'+a.ListaResp[y].Id+'" onclick="fVisualizarDadosAdmin(\''+t+"',"+a.ListaResp[y].Id+');"> <i style="font-size: 15px;" class="fa fa-eye"> </i> &nbsp;VISUALIZAR</a>'),e+="\t\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t</div>",e+="\t\t\t\t\t\t\x3c!-- DivBotaoComentarioResp --\x3e",e+="\t\t\t</div> \n",e+="\t\t\t\x3c!-- DivBody --\x3e",e+="\t\t\t\t\t</div>",e+="\t\t\t\t\t\x3c!-- col-11 --\x3e",e+="\t\t\t\t</div>",e+="\t\t\t\t\x3c!-- DivComentResposta --\x3e"}e+="\t\t\t</div>",e+="\t\t\t\x3c!-- DivResposta --\x3e"}return e+="\t\t\t</div> \n",e+="\t\t\t\x3c!-- DivBody --\x3e",e+="\t\t</div>",e+="\t\t\x3c!-- col-11 --\x3e",e+="\t</div>",e+="\t\x3c!-- row --\x3e",e+="</div>",e+="\x3c!-- DivComentario --\x3e"}catch(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fCarregarListaComentarios(t){try{var a=$("#DivListaComentarios");a.html("");var e=$("#BtnPaginacao");e.empty(),$.urlParam=function(t){return new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href)[1]||0};var r=1;try{r=$.urlParam("PagAtual")}catch(t){r=1}$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/lista",data:{PagAtual:r},success:function(r){var s=r.data.Resultado,o=r.data.Mensagem,n=r.data.Lista,l=parseInt(r.data.PagAtual),d=parseInt(r.data.PagTotal);if("NSESSAO"==s)return $(location).attr("href",t+"/login"),!1;if("NOK"==s)return fCriarAlertaPrinc(TP_ALERTA_AVISO,o),!1;if("FALHA"==s)return fCriarAlertaPrinc(TP_ALERTA_ERRO,o),!1;if("OK"!=s)return fCriarAlertaPrinc(TP_ALERTA_ERRO,o),!1;if(n.length>0)for(i=0;i<n.length;i++)a.append(fMontarDivComentario(t,n[i]));if(d&&d>1){for(l>1&&e.append('<li class="page-item">                                      <a class="page-link text-muted"                               href="'+t+"comentarios?PagAtual="+(l-1)+'"                 title="Página Anterior" aria-label="Anterior">  <span>Anterior</span> </a> </li>'),Num=1;Num<=d;Num++)e.append('<li class="page-item '+(Num==l?"active":"")+'"> <a class="page-link '+(Num==l?"":"text-muted")+'" href="'+(Num==l?"javascript:void(0);":t+"comentarios?PagAtual="+Num)+'" title="Página '+Num+'" >'+Num+"</a></li>");l<d&&e.append('<li class="page-item">                                      <a class="page-link text-muted"                               href="'+t+"comentarios?PagAtual="+(l+1)+'"                 title="Próxima Página" aria-label="Next"> <span>Próxima</span> </a> </li>')}},error:function(t){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}})}catch(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fSalvarDadosReacao(t,a,e){try{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/salvarReacao",data:{IdComent:a,Tipo:e},success:function(i){var r=i.data.Resultado,s=i.data.Mensagem,o=i.data.Dados;if("NSESSAO"==r)return $(location).attr("href",t+"/login"),!1;if("NOK"!=r)if("FALHA"!=r)if("OK"==r){var n=$("#QtdeGostei"+a),l=$("#QtdeNaoGostei"+a);"A"==e&&fMarcarGostei(a),"B"==e&&fMarcarNaoGostei(a),o.QtdeGostei&&n.html(o.QtdeGostei),o.QtdeNaoGostei&&l.html(o.QtdeNaoGostei)}else fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,s);else fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,s);else fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,s)},error:function(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMarcarGostei(t){try{fLimparAreaAlerta("AreaAlertaPrinc");var a=$("#BtnGostei"+t),e=$("#iGostei"+t),i=$("#QtdeGostei"+t),r=parseInt(i.text());"N"==a.data("selc")?(a.data("selc","S"),r?i.html(r+1):i.html(1),e.removeClass("text-muted"),e.addClass("text-primary"),i.removeClass("text-muted"),i.addClass("text-primary")):(a.data("selc","N"),r?i.html(r-1):i.html(0),e.addClass("text-muted"),e.removeClass("text-primary"),i.addClass("text-muted"),i.removeClass("text-primary"));var s=$("#BtnNaoGostei"+t),o=$("#iNaoGostei"+t),n=$("#QtdeNaoGostei"+t);if("S"==s.data("selc")){(r=parseInt(n.text()))?n.html(r-1):n.html(1)}else{r=parseInt(n.text());n.html(r)}s.data("selc","N"),o.removeClass("text-primary"),o.addClass("text-muted"),n.removeClass("text-primary"),n.addClass("text-muted")}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMarcarNaoGostei(t){try{fLimparAreaAlerta("AreaAlertaPrinc");var a=$("#BtnGostei"+t),e=$("#iGostei"+t),i=$("#QtdeGostei"+t);if("S"==a.data("selc")){(r=parseInt(i.text()))?i.html(r-1):i.html(1)}else{var r=parseInt(i.text());i.html(r)}a.data("selc","N"),e.addClass("text-muted"),e.removeClass("text-primary"),i.addClass("text-muted"),i.removeClass("text-primary");var s=$("#BtnNaoGostei"+t),o=$("#iNaoGostei"+t),n=$("#QtdeNaoGostei"+t);r=parseInt(n.text());"N"==s.data("selc")?(r?n.html(r+1):n.html(1),s.data("selc","S"),o.addClass("text-primary"),o.removeClass("text-muted"),n.addClass("text-primary"),n.removeClass("text-muted")):(s.data("selc","N"),r?n.html(r-1):n.html(0),o.removeClass("text-primary"),o.addClass("text-muted"),n.removeClass("text-primary"),n.addClass("text-muted"))}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMostrarNovoComentario(){var t=$("#DivNovoComentario"),a=$("#TxtTextoComentario");a.val(""),t.toggle(),jQuery.each(jQuery("textarea[data-autoresize]"),function(){var t=this.offsetHeight-this.clientHeight;jQuery(this).on("keyup input",function(){var a;a=this,jQuery(a).css("height","auto").css("height",a.scrollHeight+t)}).removeAttr("data-autoresize")}),a.focus()}function fEsconderNovoComentario(){$("#DivNovoComentario").hide()}function fMostrarEditarComentario(t){var a=$("#DivTextoComentario"+t),e=$("#DivEditartTextoComentario"+t),i=$("#TxtTextoComentario"+t);a.toggle(),e.toggle(),i.focus(function(){var t=this.scrollHeight;t>$(this).height()+10&&$(this).css("height",t)}),jQuery.each(jQuery("textarea[data-autoresize]"),function(){var t=this.offsetHeight-this.clientHeight;jQuery(this).on("keyup input",function(){var a;a=this,jQuery(a).css("height","auto").css("height",a.scrollHeight+t)}).removeAttr("data-autoresize")}),val=i.val(),i.focus().val("").val(val)}function fEsconderEditarComentario(t){var a=$("#DivTextoComentario"+t),e=$("#DivEditartTextoComentario"+t);a.toggle(),e.toggle()}function iniciarAnimacaoSalvarComent(){$("#iSalvarNovoComentario").removeClass("fa-check-square-o"),$("#iSalvarNovoComentario").addClass("fa-spinner"),$("#iSalvarNovoComentario").addClass("fa-pulse")}function finalizarAnimacaoSalvarComent(){$("#iSalvarNovoComentario").removeClass("fa-spinner"),$("#iSalvarNovoComentario").removeClass("fa-pulse"),$("#iSalvarNovoComentario").addClass("fa-check-square-o")}function fSalvarDadosComentario(t,a){try{fLimparAreaAlerta("AreaAlertaPrinc"),finalizarAnimacaoSalvarComent();var e="";if(void 0!==$("#TxtTextoComentario")&&(e=$("#TxtTextoComentario").val()),""==e&&void 0!==$("#TxtTextoComentario"+a)&&(e=$("#TxtTextoComentario"+a).val()),""==e)return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,"Por favor, informe o Comentário"),!1;iniciarAnimacaoSalvarComent(),$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/salvarComentario",data:{Id:a,Texto:e},success:function(a){finalizarAnimacaoSalvarComent();var e=a.data.Resultado,i=a.data.Mensagem;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;"NOK"!=e?"FALHA"!=e&&"OK"==e?(fEsconderNovoComentario(),fCarregarListaComentarios(t)):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,i)},error:function(t){finalizarAnimacaoSalvarComent(),fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return finalizarAnimacaoSalvarComent(),void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMostrarNovaResposta(t){var a=$("#DivResponder"+t),e=$("#TxtTextoResposta"+t);e.val(""),a.toggle(),jQuery.each(jQuery("textarea[data-autoresize]"),function(){var t=this.offsetHeight-this.clientHeight;jQuery(this).on("keyup input",function(){var a;a=this,jQuery(a).css("height","auto").css("height",a.scrollHeight+t)}).removeAttr("data-autoresize")}),e.focus()}function fMostrarEditarResposta(t){var a=$("#DivTextoComentarioResp"+t),e=$("#DivEditarTextoComentarioResp"+t),i=$("#TxtTextoComentarioResp"+t);a.toggle(),e.toggle(),i.focus(function(){var t=this.scrollHeight;t>$(this).height()+10&&$(this).css("height",t)}),jQuery.each(jQuery("textarea[data-autoresize]"),function(){var t=this.offsetHeight-this.clientHeight;jQuery(this).on("keyup input",function(){var a;a=this,jQuery(a).css("height","auto").css("height",a.scrollHeight+t)}).removeAttr("data-autoresize")}),val=i.val(),i.focus().val("").val(val)}function fEsconderEditarResposta(t){var a=$("#DivTextoComentarioResp"+t),e=$("#DivEditarTextoComentarioResp"+t);a.toggle(),e.toggle()}function fSalvarDadosResposta(t,a,e){try{fLimparAreaAlerta("AreaAlertaPrinc");var i="";if(void 0!==$("#TxtTextoResposta"+a)&&(i=$("#TxtTextoResposta"+a).val()),""==i&&void 0!==$("#TxtTextoComentarioResp"+e)&&(i=$("#TxtTextoComentarioResp"+e).val()),""==i)return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,"Por favor, informe a Resposta do Comentário "),!1;$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/salvarResposta",data:{IdComent:a,Id:e,Texto:i},success:function(a){var e=a.data.Resultado,i=a.data.Mensagem;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;"NOK"!=e?"FALHA"!=e&&"OK"==e?fCarregarListaComentarios(t):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,i)},error:function(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fExcluirComentario(t,a,e){try{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/excluir",data:{IdComent:a,Tipo:e},success:function(a){var e=a.data.Resultado,i=a.data.Mensagem;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;"NOK"!=e?"FALHA"!=e&&"OK"==e?fCarregarListaComentarios(t):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,i)},error:function(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMostrarModalDenunciar(t){$("#TxtIdComentarioDenuncia").val(t),$("#TxtTpDenuncia1").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia2").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia3").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia4").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia5").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia6").attr({checked:!1}).prop({checked:!1}),$("#TxtTpDenuncia7").attr({checked:!1}).prop({checked:!1}),$("#PopModalDenuncia").modal({backdrop:"static"})}function fDenunciarComentario(t){try{var a=$("#TxtIdComentarioDenuncia").val().trim();if(""==a)return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,"Por favor, informe o Id. Comentário "),!1;var e=$("input[name=TxtTpDenuncia1]:checked").val();if(null==e||""==e)return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,"Por favor, informe o Tipo da Denúncia "),!1;$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/denunciar",data:{IdComent:a,Tipo:e},success:function(a){var e=a.data.Resultado,i=a.data.Mensagem;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;"NOK"!=e?"FALHA"!=e&&"OK"==e?($("#PopModalDenuncia").modal("hide"),fCarregarListaComentarios(t)):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i):fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,i)},error:function(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fVisualizarDadosAdmin(t,a){try{if($("#DivComentarioVisualizou").html(""),""==a)return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,"Por favor, informe o Id. Comentário "),!1;$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"comentarios/visualizar",data:{IdComent:a},success:function(a){var e=a.data.Resultado,i=a.data.Mensagem,r=a.data.Dados;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;if("NOK"==e)return $("#PopModalVisualizou").modal("hide"),void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,i);if("FALHA"==e)return $("#PopModalVisualizou").modal("hide"),void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i);if("OK"==e){var s="";return""!=r.ListaGostei&&(s+="<h6 class='text-dark font-weight-bold'>Lista de Gostei:</h6>",s+="<span class='text-muted' style='font-size: 12px;''>"+r.ListaGostei+"</span>",s+="<br><br>"),""!=r.ListaNaoGostei&&(s+="<h6 class='text-dark font-weight-bold'>Lista de Não Gostei:</h6>",s+="<span class='text-muted' style='font-size: 12px;''>"+r.ListaNaoGostei+"</span>",s+="<br><br>"),""!=r.ListaVisualizou&&(s+="<h6 class='text-dark font-weight-bold'>Lista de Visualização:</h6>",s+="<span class='text-muted' style='font-size: 12px;''>"+r.ListaVisualizou+"</span>",s+="<br><br>"),$("#DivComentarioVisualizou").html(s),void $("#PopModalVisualizou").modal({backdrop:"static"})}return $("#PopModalVisualizou").modal("hide"),void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,i)},error:function(t,a,e){$("#PopModalVisualizou").modal("hide"),fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}})}catch(t){return $("#PopModalVisualizou").modal("hide"),void fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}$(document).ready(function(){$("#MnPrincComentarios").addClass("active open"),fLimparAreaAlerta("AreaAlertaPrinc")});