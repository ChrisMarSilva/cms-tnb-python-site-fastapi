function iniciarAnimacaoPesquisar(){$("#iRefresh").addClass("fa-spin"),$("#btnFatoPesquisar").addClass("disabled"),$("#btnFatoLimpar").addClass("disabled")}function finalizarAnimacaoPesquisa(){$("#iRefresh").removeClass("fa-spin"),$("#btnFatoPesquisar").removeClass("disabled"),$("#btnFatoLimpar").removeClass("disabled")}async function fCarregarGrid(a,i){try{promise=new Promise((r,e)=>{var t=$("#DivListaFatos");t.empty();var s=$("#BtnPaginacao");s.empty(),fLimparAreaAlertaPrinc(),finalizarAnimacaoPesquisa(),iniciarAnimacaoPesquisar();var n=$("#txtFatoEmpresa").val();$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:a+"fatos/gridAcao",data:{TipoInvest:"ACAO",IdEmpresa:n,DataIni:tirarFormacataoData(""),DataFim:tirarFormacataoData(""),PagAtual:i},success:function(i){var r=i.data.Resultado,e=i.data.Mensagem,n=i.data.Lista,l=parseInt(i.data.PagAtual),o=parseInt(i.data.PagTotal);if("NSESSAO"==r)return $(location).attr("href",a+"/login"),!1;if("NOK"==r)return finalizarAnimacaoPesquisa(),void fCriarAlertaPrinc(TP_ALERTA_AVISO,e);if("FALHA"==r)return finalizarAnimacaoPesquisa(),void fCriarAlertaPrinc(TP_ALERTA_ERRO,e);if("OK"!=r)return finalizarAnimacaoPesquisa(),void fCriarAlertaPrinc(TP_ALERTA_ERRO,e);finalizarAnimacaoPesquisa();var c="";if(n&&n.length>0){if(c+='<ul style="margin-right: 5px; ">',$.each(n,function(a,i){i[0];var r=i[1],e=colcarFormacataoDataHora(i[2]);e=e.substring(0,16);var t=i[3],s=i[4],n=(i[5],i[6]);c+='<li style="list-style-type:circle; margin-bottom: 5px;">',c+='<a title="Clique aqui para ver o conteúdo oficial" style="font-size: 12px; "href="'+t+'" target="_blank" class="text-dark">',c+='<span class="font-weight-bold">'+e+"</span>",c+=' - <span class="font-weight-normal">Protocolo: '+n+"</span>",c+=' - <span class="text-primary font-weight-bold">'+r+"</span>",c+=' - <span class="font-text-muted weight-normal">'+s+"</span>",c+="</a>",c+="</li>"}),c+="</ul>",t.html(c),o&&o>1){for(l>1&&s.append('<li class="page-item"> <a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGrid(\''+a+"','"+(parseInt(l)-1)+'\');" title="Página Anterior" aria-label="Anterior"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </a> </li>'),Num=1;Num<=o;Num++)9==Num&&o>10&&s.append('<li class="page-item disabled"> <a class="page-link text-muted disabled" href="javascript:void(0);"> ... </a></li>'),(Num<=8||9==Num&&o<=10||10==Num&&o<=10||Num>=o-1)&&s.append('<li class="page-item '+(Num==l?"active":"")+'"> <a class="page-link '+(Num==l?"":"text-muted")+'" href="javascript:void(0);" '+(Num==l?"":"onclick=\"fCarregarGrid('"+a+"','"+Num+"');\"")+' title="Página '+Num+'" >'+Num+"</a></li>");l<o&&s.append('<li class="page-item"> <a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGrid(\''+a+"','"+(parseInt(l)+1)+'\');"  title="Próxima Página" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </a> </li>')}}else c='<small style="font-size:14px;" class="font-italic text-muted">Nenhum Fato Relevante encontrado...</small><br/>',t.html(c)},error:function(a,i,r){return finalizarAnimacaoPesquisa(),fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),r(!0)}).then(a=>{}).catch(a=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(a){finalizarAnimacaoPesquisa(),null!=a.description&&fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function iniciarAnimacaoPesquisarFII(){$("#iRefreshFII").addClass("fa-spin"),$("#btnFatoFIIPesquisar").addClass("disabled")}function finalizarAnimacaoPesquisaFII(){$("#iRefreshFII").removeClass("fa-spin"),$("#btnFatoFIIPesquisar").removeClass("disabled")}async function fCarregarGridFundo(a,i){try{promise=new Promise((r,e)=>{fLimparAreaAlerta("AreaAlertaPrincFII");var t=$("#DivListaFatosFII");t.empty();var s=$("#BtnPaginacaoFII");s.empty(),finalizarAnimacaoPesquisaFII(),iniciarAnimacaoPesquisarFII();var n=$("#txtFatoFundo").val();$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:a+"fatos/gridFii",data:{TipoInvest:"FII",IdEmpresa:n,DataIni:tirarFormacataoData(""),DataFim:tirarFormacataoData(""),PagAtual:i},success:function(i){var r=i.data.Resultado,e=i.data.Mensagem,n=i.data.Lista,l=parseInt(i.data.PagAtual),o=parseInt(i.data.PagTotal);if("NSESSAO"==r)return $(location).attr("href",a+"/login"),!1;if("NOK"==r)return finalizarAnimacaoPesquisaFII(),void CriarAlerta("AreaAlertaPrincFII",TP_ALERTA_AVISO,e);if("FALHA"==r)return finalizarAnimacaoPesquisaFII(),void CriarAlerta("AreaAlertaPrincFII",TP_ALERTA_ERRO,e);if("OK"!=r)return finalizarAnimacaoPesquisaFII(),void fCriarAlerta("AreaAlertaPrincFII",TP_ALERTA_ERRO,e);finalizarAnimacaoPesquisaFII();var c="";if(n&&n.length>0){if(c+='<ul style="margin-right: 5px; ">',$.each(n,function(a,i){i[0];var r=i[1],e=colcarFormacataoDataHora(i[2]);e=e.substring(0,16);var t=i[3],s=i[4],n=(i[5],i[6]);c+='<li style="list-style-type:circle; margin-bottom: 5px;">',c+='<a title="Clique aqui para ver o conteúdo oficial" style="font-size: 12px; "href="'+t+'" target="_blank" class="text-dark">',c+='<span class="font-weight-bold">'+e+"</span>",c+=' - <span class="font-weight-normal">Protocolo: '+n+"</span>",c+=' - <span class="text-primary font-weight-bold">'+r+"</span>",c+=' - <span class="font-text-muted weight-normal">'+s+"</span>",c+="</a>",c+="</li>"}),c+="</ul>",s.empty(),t.html(c),o&&o>1){for(l>1&&s.append('<li class="page-item"> <a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridFundo(\''+a+"','"+(parseInt(l)-1)+'\');" title="Página Anterior" aria-label="Anterior"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </a> </li>'),Num=1;Num<=o;Num++)9==Num&&o>10&&s.append('<li class="page-item disabled"> <a class="page-link text-muted disabled" href="javascript:void(0);"> ... </a></li>'),(Num<=8||9==Num&&o<=10||10==Num&&o<=10||Num>=o-1)&&s.append('<li class="page-item '+(Num==l?"active":"")+'"> <a class="page-link '+(Num==l?"":"text-muted")+'" href="javascript:void(0);" '+(Num==l?"":"onclick=\"fCarregarGridFundo('"+a+"','"+Num+"');\"")+' title="Página '+Num+'" >'+Num+"</a></li>");l<o&&s.append('<li class="page-item"><a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridFundo(\''+a+"','"+(parseInt(l)+1)+'\');"  title="Próxima Página" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </a> </li>')}}else c='<small style="font-size:14px;" class="font-italic text-muted">Nenhum Fato Relevante encontrado...</small><br/>',t.empty(),t.html(c)},error:function(a,i,r){return finalizarAnimacaoPesquisaFII(),CriarAlerta("AreaAlertaPrincFII",TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),r(!0)}).then(a=>{}).catch(a=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(a){finalizarAnimacaoPesquisaFII(),null!=a.description&&CriarAlerta("AreaAlertaPrincFII",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function iniciarAnimacaoPesquisarETF(){$("#iRefreshETF").addClass("fa-spin"),$("#btnFatoETFPesquisar").addClass("disabled")}function finalizarAnimacaoPesquisaETF(){$("#iRefreshETF").removeClass("fa-spin"),$("#btnFatoETFPesquisar").removeClass("disabled")}async function fCarregarGridIndice(a,i){try{promise=new Promise((r,e)=>{fLimparAreaAlerta("AreaAlertaPrincETF");var t=$("#DivListaFatosETF");t.empty();var s=$("#BtnPaginacaoETF");s.empty(),finalizarAnimacaoPesquisaETF(),iniciarAnimacaoPesquisarETF();var n=$("#txtFatoIndice").val();$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:a+"fatos/gridEtf",data:{TipoInvest:"ETF",IdEmpresa:n,DataIni:tirarFormacataoData(""),DataFim:tirarFormacataoData(""),PagAtual:i},success:function(i){var r=i.data.Resultado,e=i.data.Mensagem,n=i.data.Lista,l=parseInt(i.data.PagAtual),o=parseInt(i.data.PagTotal);if("NSESSAO"==r)return $(location).attr("href",a+"/login"),!1;if("NOK"==r)return finalizarAnimacaoPesquisaETF(),void CriarAlerta("AreaAlertaPrincETF",TP_ALERTA_AVISO,e);if("FALHA"==r)return finalizarAnimacaoPesquisaETF(),void CriarAlerta("AreaAlertaPrincETF",TP_ALERTA_ERRO,e);if("OK"!=r)return finalizarAnimacaoPesquisaETF(),void fCriarAlerta("AreaAlertaPrincETF",TP_ALERTA_ERRO,e);finalizarAnimacaoPesquisaETF();var c="";if(n&&n.length>0){if(c+='<ul style="margin-right: 5px; ">',$.each(n,function(a,i){i[0];var r=i[1],e=colcarFormacataoDataHora(i[2]);e=e.substring(0,16);var t=i[3],s=i[4],n=(i[5],i[6]);c+='<li style="list-style-type:circle; margin-bottom: 5px;">',c+='<a title="Clique aqui para ver o conteúdo oficial" style="font-size: 12px; "href="'+t+'" target="_blank" class="text-dark">',c+='<span class="font-weight-bold">'+e+"</span>",c+=' - <span class="font-weight-normal">Protocolo: '+n+"</span>",c+=' - <span class="text-primary font-weight-bold">'+r+"</span>",c+=' - <span class="font-text-muted weight-normal">'+s+"</span>",c+="</a>",c+="</li>"}),c+="</ul>",s.empty(),t.html(c),o&&o>1){for(l>1&&s.append('<li class="page-item"> <a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridIndice(\''+a+"','"+(parseInt(l)-1)+'\');" title="Página Anterior" aria-label="Anterior"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </a> </li>'),Num=1;Num<=o;Num++)9==Num&&o>10&&s.append('<li class="page-item disabled"> <a class="page-link text-muted disabled" href="javascript:void(0);"> ... </a></li>'),(Num<=8||9==Num&&o<=10||10==Num&&o<=10||Num>=o-1)&&s.append('<li class="page-item '+(Num==l?"active":"")+'"> <a class="page-link '+(Num==l?"":"text-muted")+'" href="javascript:void(0);" '+(Num==l?"":"onclick=\"fCarregarGridIndice('"+a+"','"+Num+"');\"")+' title="Página '+Num+'" >'+Num+"</a></li>");l<o&&s.append('<li class="page-item"><a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridIndice(\''+a+"','"+(parseInt(l)+1)+'\');"  title="Próxima Página" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </a> </li>')}}else c='<small style="font-size:14px;" class="font-italic text-muted">Nenhum Fato Relevante encontrado...</small><br/>',t.empty(),t.html(c)},error:function(a,i,r){return finalizarAnimacaoPesquisaETF(),CriarAlerta("AreaAlertaPrincETF",TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),r(!0)}).then(a=>{}).catch(a=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(a){finalizarAnimacaoPesquisaETF(),null!=a.description&&CriarAlerta("AreaAlertaPrincETF",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function iniciarAnimacaoPesquisarBDR(){$("#iRefreshBDR").addClass("fa-spin"),$("#btnFatoBDRPesquisar").addClass("disabled")}function finalizarAnimacaoPesquisaBDR(){$("#iRefreshBDR").removeClass("fa-spin"),$("#btnFatoBDRPesquisar").removeClass("disabled")}async function fCarregarGridBdr(a,i){try{promise=new Promise((r,e)=>{fLimparAreaAlerta("AreaAlertaPrincBDR");var t=$("#DivListaFatosBDR");t.empty();var s=$("#BtnPaginacaoBDR");s.empty(),finalizarAnimacaoPesquisaBDR(),iniciarAnimacaoPesquisarBDR();var n=$("#txtFatoBdr").val();$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:a+"fatos/gridBdr",data:{TipoInvest:"BDR",IdEmpresa:n,DataIni:tirarFormacataoData(""),DataFim:tirarFormacataoData(""),PagAtual:i},success:function(i){var r=i.data.Resultado,e=i.data.Mensagem,n=i.data.Lista,l=parseInt(i.data.PagAtual),o=parseInt(i.data.PagTotal);if("NSESSAO"==r)return $(location).attr("href",a+"/login"),!1;if("NOK"==r)return finalizarAnimacaoPesquisaBDR(),void CriarAlerta("AreaAlertaPrincBDR",TP_ALERTA_AVISO,e);if("FALHA"==r)return finalizarAnimacaoPesquisaBDR(),void CriarAlerta("AreaAlertaPrincBDR",TP_ALERTA_ERRO,e);if("OK"!=r)return finalizarAnimacaoPesquisaBDR(),void fCriarAlerta("AreaAlertaPrincBDR",TP_ALERTA_ERRO,e);finalizarAnimacaoPesquisaBDR();var c="";if(n&&n.length>0){if(c+='<ul style="margin-right: 5px; ">',$.each(n,function(a,i){i[0];var r=i[1],e=colcarFormacataoDataHora(i[2]);e=e.substring(0,16);var t=i[3],s=i[4],n=(i[5],i[6]);c+='<li style="list-style-type:circle; margin-bottom: 5px;">',c+='<a title="Clique aqui para ver o conteúdo oficial" style="font-size: 12px; "href="'+t+'" target="_blank" class="text-dark">',c+='<span class="font-weight-bold">'+e+"</span>",c+=' - <span class="font-weight-normal">Protocolo: '+n+"</span>",c+=' - <span class="text-primary font-weight-bold">'+r+"</span>",c+=' - <span class="font-text-muted weight-normal">'+s+"</span>",c+="</a>",c+="</li>"}),c+="</ul>",s.empty(),t.html(c),o&&o>1){for(l>1&&s.append('<li class="page-item"> <a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridBdr(\''+a+"','"+(parseInt(l)-1)+'\');" title="Página Anterior" aria-label="Anterior"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </a> </li>'),Num=1;Num<=o;Num++)9==Num&&o>10&&s.append('<li class="page-item disabled"> <a class="page-link text-muted disabled" href="javascript:void(0);"> ... </a></li>'),(Num<=8||9==Num&&o<=10||10==Num&&o<=10||Num>=o-1)&&s.append('<li class="page-item '+(Num==l?"active":"")+'"> <a class="page-link '+(Num==l?"":"text-muted")+'" href="javascript:void(0);" '+(Num==l?"":"onclick=\"fCarregarGridBdr('"+a+"','"+Num+"');\"")+' title="Página '+Num+'" >'+Num+"</a></li>");l<o&&s.append('<li class="page-item"><a class="page-link text-muted" href="javascript:void(0);" onclick="fCarregarGridBdr(\''+a+"','"+(parseInt(l)+1)+'\');"  title="Próxima Página" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </a> </li>')}}else c='<small style="font-size:14px;" class="font-italic text-muted">Nenhum Fato Relevante encontrado...</small><br/>',t.empty(),t.html(c)},error:function(a,i,r){return finalizarAnimacaoPesquisaBDR(),CriarAlerta("AreaAlertaPrincBDR",TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),r(!0)}).then(a=>{}).catch(a=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(a){finalizarAnimacaoPesquisaBDR(),null!=a.description&&CriarAlerta("AreaAlertaPrincBDR",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}$(document).ready(function(){$("#MnPrincFatos").addClass("active open"),$("#txtFatoEmpresa").val(""),fLimparAreaAlertaPrinc()});