function fMontaDadosProvento(t,e){var s="",i=new Date,a=("0"+i.getDate()).substr(-2),r=("0"+(i.getMonth()+1)).substr(-2),n=i.getFullYear()+r+a,o=e[0],l=e[1],d=e[2],c=(e[3],e[4],e[5]),v=e[6],h=e[7],D="",b="",M="",p="";return"A"==v&&(D="Aprovado",M=o>n?"badge-primary":"badge-success",p=o>n?"PROVENTO A RECEBER":"PROVENTO RECEBIDO"),"B"==v&&(D="Pendente",M=o>n?"badge-warning":"badge-danger",p=o>n?"PROVENTO A RECEBER PENDENTE DE APROVAÇÃO":"PROVENTO RECEBIDO PENDENTE DE APROVAÇÃO"),"D"==l&&(b="DIVIDENDOS"),"J"==l&&(b="JRS CAP PRÓPRIO"),"R"==l&&(b="REST CAP DIN"),"FR"==l&&(b="RENDIMENTO"),s+="<tr style='height: 30px;' class='text-muted'>",s+="  <td style='width=5px;'>"+colcarFormacataoData(o)+"</td>",s+="  <td style='width=5px; font-size:11px;' ><b>"+d+"</b></td>",s+="  <td style='width=150px; font-size:11px;' >"+b+"</td>",s+="  <td style='width=150px; font-size:11px;' class='font-weight-bold'>R$ "+c+"</td>",s+="  <td style='width=150px; vertical-align: bottom;'> ",s+="    <span style=' vertical-align: bottom; font-size:11px;' title='"+p+"' class='badge badge-pill "+M+"'>"+D+"</span>",s+="    <span style='float: right;'>","B"==v&&(s+='      <a class="btn btn-sm btn-success btn-icon btn-icon-mini btn-round btn-simple" style="height: 1.6rem; min-width: 1.6rem; width: 1.6rem; margin: 1px 1px; font-size:0.5rem;" title="Aprovar Provento" href="javascript:void(0);" onclick="fAprovarProventos( \''+t+"', '"+h+"', '"+d+'\' );"><i class="fa fa-check fa-2x" aria-hidden="true"></i> </a>',s+="      &nbsp;"),s+='      <a class="btn btn-sm btn-warning btn-icon btn-icon-mini btn-round btn-simple" style="height: 1.6rem; min-width: 1.6rem; width: 1.6rem; margin: 1px 1px; font-size:0.5rem;" title="Editar Provento" href="javascript:void(0)" onclick="fAbrirModalDetalheRend( \''+t+"', '"+h+"', '"+d+'\', \'Alterar\' );"><i class="fa fa-pencil fa-2x" aria-hidden="true"></i> </a>',s+="      &nbsp;",s+='      <a class="btn btn-sm btn-danger btn-icon btn-icon-mini btn-round btn-simple" style="height: 1.6rem; min-width: 1.6rem; width: 1.6rem; margin: 1px 1px; font-size:0.5rem;" title="Excluir Provento" href="javascript:void(0);" onclick="fChamarPagExclusaoRend( \''+h+"', '"+d+'\' );"><i class="fa fa-trash-o fa-2x" aria-hidden="true"></i> </a>',s+="    </span>",s+="  </td>",s+="</tr>"}async function fCarrgarDadosProventos(t){try{promise=new Promise((e,s)=>{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/carregarProventos",success:function(e){var s=e.data.Resultado,i=e.data.Mensagem,a=e.data.Lista;if("NSESSAO"==s)return $(location).attr("href",t+"/login"),!1;if("NOK"==s)return fCriarAlertaPrinc(TP_ALERTA_AVISO,i),!1;if("FALHA"==s)return fCriarAlertaPrinc(TP_ALERTA_ERRO,i),!1;if("OK"!=s)return fCriarAlertaPrinc(TP_ALERTA_ERRO,i),!1;if(a&&a.length>0){$("#DivConteudoProv").html("");var r=0,n=0,o="",l="",d=[],c=0;a.sort(function(t,e){var s=t[0],i=e[0];return s==i?0:s>i?1:-1}),$.each(a,function(t,e){l=e[0].substring(0,6),""==o&&(o=l),o!=l&&(d[c]=n,c++,o=l,n=0),n+=parseFloat(GetValorDecimal(e[5])),r+=parseFloat(GetValorDecimal(e[5]))}),d[c]=n,c=0,o="",sDivMes="",$("#DivConteudoProv").append('<h6 class="text-dark text-center" style="border: 0px solid blue;">TOTAL A RECEBER R$ '+fMascaraValor(r)+" </h6>"),$.each(a,function(e,s){l=s[0].substring(0,6),""==o&&(o=l,n=d[c],c++,sDivMes="",sDivMes+='<span style="font-size:13px;" class="text-success font-weight-bold"> MÊS '+o.substring(4,6)+"/"+o.substring(0,4)+" - TOTAL R$ "+fMascaraValor(n)+"</span>",sDivMes+="<br/>",sDivMes+='<div class="table-responsive-sm">',sDivMes+='  <table style="font-size:12px;" id="ProvMes'+o+'" class="table table-sm table-bo rdered table-hover table-condensed table-borderless nowrap" border="0" cellpadding="0" cellspacing="0">',sDivMes+='    <col width="50">',sDivMes+='    <col width="50">',sDivMes+='    <col width="150">',sDivMes+='    <col width="150">',sDivMes+='    <col width="150">',sDivMes+="    <thead>",sDivMes+='      <tr class="thead-dark font-weight-bold text-center">',sDivMes+="      <th>Dt. Pagto</th>",sDivMes+="      <th>Ativo</th>",sDivMes+="      <th>Tipo</>",sDivMes+="      <th>Total a Receber</th>",sDivMes+="      <th>Situação</th>",sDivMes+="      </tr>",sDivMes+="    </thead>",sDivMes+="    <tbody>"),o!=l&&(o=l,n=d[c],c++,sDivMes+="    </tbody>",sDivMes+="    <tfoot>",sDivMes+="    </tfoot>",sDivMes+="  </table>",sDivMes+="</div>",$("#DivConteudoProv").append(sDivMes),sDivMes="",sDivMes+='<span style="font-size:13px;" class="text-success font-weight-bold"> MÊS '+o.substring(4,6)+"/"+o.substring(0,4)+" - TOTAL R$ "+fMascaraValor(n)+"</span>",sDivMes+="<br/>",sDivMes+='<div class="table-responsive-sm">',sDivMes+='  <table style="font-size:12px;" id="ProvMes'+o+'" class="table table-sm table-bord ered table-hover table-condensed table-borderless nowrap" border="0" cellpadding="0" cellspacing="0">',sDivMes+='    <col width="50">',sDivMes+='    <col width="50">',sDivMes+='    <col width="150">',sDivMes+='    <col width="150">',sDivMes+='    <col width="150">',sDivMes+='    <col width="150">',sDivMes+="    <thead>",sDivMes+='      <tr class="thead-dark font-weight-bold text-center">',sDivMes+="      <th>Dt. Pagto</th>",sDivMes+="      <th>Ativo</th>",sDivMes+="      <th>Tipo</>",sDivMes+="      <th>Total a Receber</th>",sDivMes+="      <th>Situação</th>",sDivMes+="      </tr>",sDivMes+="    </thead>",sDivMes+="    <tbody>"),sDivMes+=fMontaDadosProvento(t,s)}),sDivMes+="    </tbody>",sDivMes+="    <tfoot>",sDivMes+="      <tr>",sDivMes+="      </tr>",sDivMes+="    </tfoot>",sDivMes+="  </table>",sDivMes+="</div>",$("#DivConteudoProv").append(sDivMes)}else $("#DivConteudoProv").html('<span style="font-size:14px;" class="font-italic text-muted">Nenhum provento a receber...</span><br/>')},error:function(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}),e(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fLimparDadosInvestidores(),fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}