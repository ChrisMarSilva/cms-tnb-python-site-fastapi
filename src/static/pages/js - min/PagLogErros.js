function fLimparGrid(){try{$("#GridGeral tr").not(":nth-child(1)").remove()}catch(r){null!=r.description&&fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fCarregarGrid(r,a){try{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:r+"logErro/grid",success:function(a){var t=a.data.Resultado,e=a.data.Mensagem,i=a.data.Lista;if("NSESSAO"==t)return $(location).attr("href",r+"/login"),!1;if("NOK"!=t)if("FALHA"!=t)if("OK"==t){if(i.length>0){var n="";$.each(i,function(r,a){n="text-muted","N"==a[7]&&(n="text-danger"),$("#GridGeral tr:first").after('<tr class="'+n+'"> <td style="width:20px;">'+colcarFormacataoDataHora(a[0])+'</td> <td style="width:20px;">'+a[1]+'</td> <td style="width:20px;">'+a[2]+'</td> <td style="width:10px;">'+a[3]+'</td> <td style="width:10px;">'+a[4]+'</td> <td style="width:500px;">'+a[5]+'</td> <td style="display: none;">'+a[6]+"</td></tr>")})}}else fCriarAlertaPrinc(TP_ALERTA_ERRO,e);else fCriarAlertaPrinc(TP_ALERTA_ERRO,e);else fCriarAlertaPrinc(TP_ALERTA_AVISO,e)},error:function(r){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}})}catch(r){null!=r.description&&fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fExcluirLog(r,a){try{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:r+"logErro/excluir",success:function(a){var t=a.data.Resultado,e=a.data.Mensagem;if("NSESSAO"==t)return $(location).attr("href",r+"/login"),!1;"NOK"!=t?"FALHA"!=t&&"OK"==t?(fLimparGrid(r),fCarregarGrid(r)):fCriarAlertaPrinc(TP_ALERTA_ERRO,e):fCriarAlertaPrinc(TP_ALERTA_AVISO,e)},error:function(r){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}})}catch(r){null!=r.description&&fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function fMarcarLog(r,a){try{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:r+"logErro/marcar",success:function(a){var t=a.data.Resultado,e=a.data.Mensagem;if("NSESSAO"==t)return $(location).attr("href",r+"/login"),!1;"NOK"!=t?"FALHA"!=t&&"OK"==t?(fLimparGrid(r),fCarregarGrid(r)):fCriarAlertaPrinc(TP_ALERTA_ERRO,e):fCriarAlertaPrinc(TP_ALERTA_AVISO,e)},error:function(r){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}})}catch(r){null!=r.description&&fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}$(document).ready(function(){$("#MnPrincLogErros").addClass("active open"),fLimparAreaAlertaPrinc()});