async function fCarrgarDadosFatos(t){try{promise=new Promise((a,e)=>{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/carregarFatosAcoes",data:{TipoInvest:"ACAO"},success:function(a){var e=a.data.Resultado,r=a.data.Mensagem,n=a.data.Lista;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;if("NOK"==e)return fCriarAlertaPrinc(TP_ALERTA_AVISO,r),!1;if("OK"==e){$("#DivConteudoFatos").html("");var i="",o=new Date,l=("0"+o.getDate()).substr(-2),s=("0"+(o.getMonth()+1)).substr(-2),c=o.getFullYear()+s+l;return n&&n.length>0?(i+='<ul id="ulFato-ACAO" style="font-size:11px; padding: 0px; padding-left: 10px; padding-top: 5px; border: 0px solid green; " class="text-muted">',$.each(n,function(a,e){var r=e[0],n=e[1],o=colcarFormacataoDataHora(e[2]).substring(0,16),l=e[3],s=e[4],d=e[5],p="text-muted";e[2].substring(0,8)==c&&(p="text-primary"),i+='<li id="liFato-ACAO-'+r+'" style="list-style-type:circle; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 550px;" >',i+=' <a class="text-danger" style="float: center; font-size:10px;" title="Remover Fato Relevante" href="javascript:void(0)" onclick="fRemoverFatoRelevante( \''+t+"', '"+r+"', 'ACAO' );\">",i+='   <i class="fa fa-check fa-2x" aria-hidden="true"></i>',i+=" </a>  &nbsp;",i+=' <a class="'+p+'" data-html="true" data-toggle="tooltip" data-placement="bottom" title="Clique aqui para ver o conteúdo completo - '+n+" - "+s+'" href="'+l+'" target="_blank">',i+=" <span>"+o+"</span>",i+=" - <span>"+d+"</span>",i+=' - <span class="font-weight-bold">'+n+"</span>",i+=" - <span>"+s+"</span>",i+=" </a>",i+="</li>"}),i+="</ul>"):i='<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>',$("#DivConteudoFatos").html(i),!0}return fCriarAlertaPrinc(TP_ALERTA_ERRO,r),!1},error:function(t,a,e){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),a(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}async function fCarrgarDadosFatosFII(t){try{promise=new Promise((a,e)=>{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/carregarFatosFiis",data:{TipoInvest:"FII"},success:function(a){var e=a.data.Resultado,r=a.data.Mensagem,n=a.data.Lista;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;if("NOK"==e)return fCriarAlertaPrinc(TP_ALERTA_AVISO,r),!1;if("OK"==e){$("#DivConteudoFatosFII").html("");var i="",o=new Date,l=("0"+o.getDate()).substr(-2),s=("0"+(o.getMonth()+1)).substr(-2),c=o.getFullYear()+s+l;return n&&n.length>0?(i+='<ul id="ulFato-FII" style="font-size:11px; padding: 0px; padding-left: 10px; padding-top: 5px; border: 0px solid green; " class="text-muted">',$.each(n,function(a,e){var r=e[0],n=e[1],o=colcarFormacataoDataHora(e[2]).substring(0,16),l=e[3],s=e[4],d=e[5],p="text-muted";e[2].substring(0,8)==c&&(p="text-primary"),i+='<li id="liFato-FII-'+r+'" style="list-style-type:circle; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 550px;" >',i+=' <a class="text-danger" style="float: center; font-size:10px;" title="Remover Fato Relevante" href="javascript:void(0)" onclick="fRemoverFatoRelevante( \''+t+"', '"+r+"', 'FII' );\">",i+='   <i class="fa fa-check fa-2x" aria-hidden="true"></i>',i+=" </a>  &nbsp;",i+=' <a class="'+p+'" data-html="true" data-toggle="tooltip" data-placement="bottom" title="Clique aqui para ver o conteúdo completo - '+n+" - "+s+'" href="'+l+'" target="_blank">',i+=" <span>"+o+"</span>",i+=" - <span>"+d+"</span>",i+=' - <span class="font-weight-bold">'+n+"</span>",i+=" - <span>"+s+"</span>",i+=" </a>",i+="</li>"}),i+="</ul>"):i='<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>',$("#DivConteudoFatosFII").html(i),!0}return fCriarAlertaPrinc(TP_ALERTA_ERRO,r),!1},error:function(t,a,e){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),a(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}async function fCarrgarDadosFatosETF(t){try{promise=new Promise((a,e)=>{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/carregarFatosEtfs",data:{TipoInvest:"ETF"},success:function(a){var e=a.data.Resultado,r=a.data.Mensagem,n=a.data.Lista;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;if("NOK"==e)return fCriarAlertaPrinc(TP_ALERTA_AVISO,r),!1;if("OK"==e){$("#DivConteudoFatosETF").html("");var i="",o=new Date,l=("0"+o.getDate()).substr(-2),s=("0"+(o.getMonth()+1)).substr(-2),c=o.getFullYear()+s+l;return n&&n.length>0?(i+='<ul id="ulFato-ETF" style="font-size:11px; padding: 0px; padding-left: 10px; padding-top: 5px; border: 0px solid green; " class="text-muted">',$.each(n,function(a,e){var r=e[0],n=e[1],o=colcarFormacataoDataHora(e[2]).substring(0,16),l=e[3],s=e[4],d=e[5],p="text-muted";e[2].substring(0,8)==c&&(p="text-primary"),i+='<li id="liFato-ETF-'+r+'" style="list-style-type:circle; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 550px;" >',i+=' <a class="text-danger" style="float: center; font-size:10px;" title="Remover Fato Relevante" href="javascript:void(0)" onclick="fRemoverFatoRelevante( \''+t+"', '"+r+"', 'ETF' );\">",i+='   <i class="fa fa-check fa-2x" aria-hidden="true"></i>',i+=" </a>  &nbsp;",i+=' <a class="'+p+'" data-html="true" data-toggle="tooltip" data-placement="bottom" title="Clique aqui para ver o conteúdo completo - '+n+" - "+s+'" href="'+l+'" target="_blank">',i+=" <span>"+o+"</span>",i+=" - <span>"+d+"</span>",i+=' - <span class="font-weight-bold">'+n+"</span>",i+=" - <span>"+s+"</span>",i+=" </a>",i+="</li>"}),i+="</ul>"):i='<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>',$("#DivConteudoFatosETF").html(i),!0}return fCriarAlertaPrinc(TP_ALERTA_ERRO,r),!1},error:function(t,a,e){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),a(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}async function fCarrgarDadosFatosBDR(t){try{promise=new Promise((a,e)=>{$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/carregarFatosBdrs",data:{TipoInvest:"BDR"},success:function(a){$("#DivConteudoFatosBDR").html("");var e=a.data.Resultado,r=a.data.Mensagem,n=a.data.Lista;if("NSESSAO"==e)return $(location).attr("href",t+"/login"),!1;if("NOK"==e)return fCriarAlertaPrinc(TP_ALERTA_AVISO,r),!1;if("OK"==e){var i="",o=new Date,l=("0"+o.getDate()).substr(-2),s=("0"+(o.getMonth()+1)).substr(-2),c=o.getFullYear()+s+l;return n&&n.length>0?(i+='<ul id="ulFato-BDR" style="font-size:11px; padding: 0px; padding-left: 10px; padding-top: 5px; border: 0px solid green; " class="text-muted">',$.each(n,function(a,e){var r=e[0],n=e[1],o=colcarFormacataoDataHora(e[2]).substring(0,16),l=e[3],s=e[4],d=e[5],p="text-muted";e[2].substring(0,8)==c&&(p="text-primary"),i+='<li id="liFato-BDR-'+r+'" style="list-style-type:circle; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 550px;" >',i+=' <a class="text-danger" style="float: center; font-size:10px;" title="Remover Fato Relevante" href="javascript:void(0)" onclick="fRemoverFatoRelevante( \''+t+"', '"+r+"', 'BDR' );\">",i+='   <i class="fa fa-check fa-2x" aria-hidden="true"></i>',i+=" </a>  &nbsp;",i+=' <a class="'+p+'" data-html="true" data-toggle="tooltip" data-placement="bottom" title="Clique aqui para ver o conteúdo completo - '+n+" - "+s+'" href="'+l+'" target="_blank">',i+=" <span>"+o+"</span>",i+=" - <span>"+d+"</span>",i+=' - <span class="font-weight-bold">'+n+"</span>",i+=" - <span>"+s+"</span>",i+=" </a>",i+="</li>"}),i+="</ul>"):i='<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>',$("#DivConteudoFatosBDR").html(i),!0}return fCriarAlertaPrinc(TP_ALERTA_ERRO,r),!1},error:function(t,a,e){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),a(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}async function fRemoverFatoRelevante(t,a,e){try{promise=new Promise((r,n)=>{var i=$("#liFato-"+e+"-"+a).closest("li");i.fadeOut(100,function(){i.remove(),$("#ulFato-"+e+" li").length<=0&&("ACAO"==e&&$("#DivConteudoFatos").html('<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>'),"FII"==e&&$("#DivConteudoFatosFII").html('<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>'),"ETF"==e&&$("#DivConteudoFatosETF").html('<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>'),"BDR"==e&&$("#DivConteudoFatosBDR").html('<div class="text-center"><small style="font-size:14px; margin: 20px; " class="font-italic text-muted">Nenhum Fato Relevante comunicado...</small></div>'))}),$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:t+"principal/removerFatoRelevante",data:{IdFato:a,TipoInvest:e},success:function(a){var e=a.data.Resultado,r=a.data.Mensagem;return"NSESSAO"==e?($(location).attr("href",t+"/login"),!1):"NOK"==e?(fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_AVISO,r),!1):"FALHA"==e?(fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,r),!1):"OK"==e||(fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,r),!1)},error:function(t){return fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),r(!0)}).then(t=>{}).catch(t=>{fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)})}catch(t){fCriarAlerta("AreaAlertaPrinc",TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}async function fAbrirModalDetalheFatos(t){try{PDFObject.embed("http://www2.bmfbovespa.com.br/empresas/consbov/ArquivosExibe.asp?site=&protocolo=698264","#DivPaginaFatos",{}),$("#PopModalDetalheFatos").modal({backdrop:"static"})}catch(t){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}