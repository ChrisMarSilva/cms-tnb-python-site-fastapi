var ListaAno=[];async function fCarregarListaDeAnosProventosLocal(a){try{promise=new Promise((e,n)=>{ListaAno=[],$.ajax({cache:"false",dataType:"json",async:!0,type:"POST",url:a+"listas/lista_anos_user_provento",success:function(e){var n=e.data.Resultado,r=e.data.Mensagem,t=e.data.Lista;if("NSESSAO"==n)return $(location).attr("href",a+"/login"),!1;if("NOK"==n)return CriarAlertaPrinc(TP_ALERTA_AVISO,r),!1;if("OK"==n){if(t.length>0){ListaAno=t;var i="";$.each(t,function(a,e){i=e});var o=(new Date).getFullYear();""==i&&(i=o),i>o&&(i=o),SetAnoAtual(a,parseInt(i))}return!0}return fCriarAlertaPrinc(TP_ALERTA_ERRO,r),!1},error:function(a){return fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO),!1}}),e(!0)}).then(a=>{}).catch(a=>{})}catch(a){fCriarAlertaPrinc(TP_ALERTA_ERRO,MSG_ALERTA_ERRO)}}function GetAnoIncial(){return ListaAno.length>=1&&""!==ListaAno[0]?parseInt(ListaAno[0]):parseInt($("#DivAno").text())}function GetAnoFinal(){return ListaAno.length>1?parseInt(ListaAno[ListaAno.length-1]):parseInt($("#DivAno").text())}function GetAnoAtual(){return parseInt($("#DivAno").text())}async function SetAnoAtual(a,e){promise=new Promise((n,r)=>{$("#DivAno").text(e);var t=GetAnoIncial(),i=GetAnoFinal();e==t&&e==i?($("#DivVolarTudo").addClass("disabled"),$("#DivVolarUm").addClass("disabled"),$("#DivAvancarUm").addClass("disabled"),$("#DivAvancarTudo").addClass("disabled")):e==t?($("#DivVolarTudo").addClass("disabled"),$("#DivVolarUm").addClass("disabled"),$("#DivAvancarUm").removeClass("disabled"),$("#DivAvancarTudo").removeClass("disabled")):e==i?($("#DivVolarTudo").removeClass("disabled"),$("#DivVolarUm").removeClass("disabled"),$("#DivAvancarUm").addClass("disabled"),$("#DivAvancarTudo").addClass("disabled")):($("#DivVolarTudo").removeClass("disabled"),$("#DivVolarUm").removeClass("disabled"),$("#DivAvancarUm").removeClass("disabled"),$("#DivAvancarTudo").removeClass("disabled")),fCarregarGridAnaliseCalProv(a),$("#GridAnaliseCalProv").focus(),n(!0)}).then(a=>{}).catch(a=>{})}function fVolarTodosAnos(a){SetAnoAtual(a,GetAnoIncial())}function fVolarUmAno(a){var e=GetAnoIncial(),n=GetAnoAtual();n>e&&(n-=1),SetAnoAtual(a,n)}function fAvancarUmAno(a){var e=GetAnoFinal(),n=GetAnoAtual();n<e&&(n+=1),SetAnoAtual(a,n)}function fAvancarTodosAnos(a){SetAnoAtual(a,GetAnoFinal())}$(document).ready(function(){promise=new Promise((a,e)=>{$("#MnPrincAnalise").addClass("active open"),ListaAno=[],fLimparAreaAlerta("AreaAlertaPrincAnaliseOper"),fLimparAreaAlerta("AreaAlertaPrincAnaliseProv"),fLimparAreaAlerta("AreaAlertaPrincAnaliseYiledCost"),a(!0)}).then(a=>{}).catch(a=>{})});